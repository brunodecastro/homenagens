@(usuarioForm: Form[Usuario], usuario: Usuario)

@import helper._
@import helper.twitterBootstrap._

@implicitFieldConstructor = @{ FieldConstructor(twitterBootstrapInput.render) } 

@main(usuario){

<div class="well">
    
    <h1>Usuários</h1>
    
    @helper.form(action = routes.Usuarios.salvar()) {
        
        <fieldset>
        
        	@if(usuarioForm.hasGlobalErrors) {
				<div class="alert alert-error">
					<button type="button" class="close" data-dismiss="alert">&times;</button>
					@usuarioForm.globalError.message
				</div>
			} @if(flash.contains("success")) {
				<div class="alert alert-success">
					<button type="button" class="close" data-dismiss="alert">&times;</button>
					@flash.get("success")
				</div>
			} 
        
            @helper.inputText(usuarioForm("nome"), '_label -> "Nome")
            @helper.inputText(usuarioForm("email"), '_label -> "Email")
            @helper.inputPassword(usuarioForm("senha"), '_label -> "Senha")
            @helper.inputPassword(usuarioForm("confirmacaoSenha"), '_label -> "Confirmação da senha")
            @helper.select(
                usuarioForm("tipoUsuario"), 
                options = options(TipoUsuario.values().toList.map(_.toString)),
                '_default -> "--- Tipo de usuário ---",
                '_label -> "Tipo de usuário",
                '_error -> usuarioForm("tipoUsuario").error.map(_.withMessage("Selecione o tipo de usuário."))
            )
        </fieldset>
        
        <div class="well">
            <input type="submit" value="Criar" class="btn btn-primary">  
            <a href="" class="btn">Cancelar</a> 
        </div>
        
    }
    
</div>    
    
}